---
title: LLM Contracts
description: Request/response/streaming contracts and provider normalization rules.
---

## Request/response contract

```mermaid
flowchart LR
    Request[LLMRequest] --> Transport[Provider transport]
    Transport --> Raw[Provider-native response]
    Raw --> Normalize[AFK normalization]
    Normalize --> Response[LLMResponse]
```

## Better structured-output example

```python
from pydantic import BaseModel
from afk.llms.types import LLMRequest, Message

class IncidentSummary(BaseModel):
    severity: str
    summary: str

resp = await client.chat(
    LLMRequest(messages=[Message(role="user", content="Summarize this incident")]),
    response_model=IncidentSummary,
)
```
