---
title: Agent Integration
description: Integration boundary between runner/agents and llm runtime.
---

## Ownership Boundary

Agent/Runner layers own:

- orchestration and tool execution policy
- fail-safe strategy and fallback chain decisions
- persistence and checkpoint workflows

`afk.llms` owns:

- provider transport normalization
- runtime policies (retry/timeout/rate-limit/breaker/hedging/cache/coalescing)
- stream/session transport controls

## Model Resolution

Use provider-driven client creation in model resolution paths:

- `create_llm_client(provider=...)`
- `LLMBuilder(...).build()`

For complex agents, prefer:

- `LLMBuilder().for_agent_runtime()` for baseline production policies
- per-request `RoutePolicy(provider_order=...)` when you need explicit fallback
- per-request `RetryPolicy`/`TimeoutPolicy` overrides for high-risk turns
