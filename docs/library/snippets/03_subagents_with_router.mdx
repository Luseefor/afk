---
title: Snippet 03: Subagents with Router
description: Delegate workload to specialist subagents and merge outputs.
---

```python
from afk.agents import Agent
from afk.core import Runner

triage = Agent(name="triage", model="gpt-4.1-mini", instructions="Classify incident severity")
analysis = Agent(name="analysis", model="gpt-4.1-mini", instructions="Find likely root causes")
comms = Agent(name="comms", model="gpt-4.1-mini", instructions="Draft stakeholder update")

lead = Agent(
    name="lead",
    model="gpt-4.1-mini",
    instructions="Delegate to specialists and synthesize final response.",
    subagents=[triage, analysis, comms],
)

runner = Runner()
result = runner.run_sync(lead, user_message="Investigate API latency spike and draft update")
print(result.output_text)
```
